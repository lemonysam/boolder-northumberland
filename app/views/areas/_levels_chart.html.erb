<%
labels = ['easy', 'moderate', 'intermediate', 'advanced', 'expert']
chart_data = {
  labels: labels,
  datasets: [{
      label: 'problems',
      data: labels.each.map{|l| area.problems.with_location.grade_band(l).count },
      backgroundColor: 'rgba(5, 150, 105, 0.8)',
      borderColor: 'rgba(5, 150, 105, 1)',
      borderWidth: 1
  }]
}

chart_options = {
  animation: false,
  scales: {
      y: {
        max: 50,
        ticks: {
            beginAtZero: true,
            max: 150,
            stepSize: 10,
        },
        # display: false,
        gridLines: {
          color: "rgba(200, 200, 200, 0.3)",
        }
      },
      x: {
        gridLines: {
          display: false,
        }
      }
  },
  plugins: {
    legend: {
      display: false
    },
    tooltip: {
      enabled: false
    },
  },
  
}
%>


<canvas
  data-controller="chart"
  data-chart-type-value="bar"
  data-chart-data-value="<%= chart_data.to_json %>"
  data-chart-options-value="<%= chart_options.to_json %>"
></canvas>